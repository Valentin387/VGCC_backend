# VGCC_backend
![FastAPI](https://img.shields.io/badge/FastAPI-005571?style=for-the-badge&logo=fastapi)
![Python](https://img.shields.io/badge/python-3.8%2B-blue.svg?style=for-the-badge&logo=python)
![GitHub last commit](https://img.shields.io/github/last-commit/Valentin387/VGCC_backend?style=for-the-badge)
![Issues](https://img.shields.io/github/issues/Valentin387/VGCC_backend?style=for-the-badge)
![Pull Requests](https://img.shields.io/github/issues-pr/Valentin387/VGCC_backend?style=for-the-badge)

Backend for a versatile application combining Google Calendar and OpenAI's ChatGPT APIs, using FastAPI.

I recommend to use the version tagged with the tag "final-release". It´s the most stable one, from there on I got creative accepting pull requests... 

Just run `main.py` and that's it!

## Features

1. **Chat with AI**: Utilizes OpenAI's powerful models to answer queries.
2. **Google Calendar Integration**: Manage and view your Google Calendar events.
3. **RESTful API**: Easily integrate with frontends such as Angular or React.


## Structure

```
VGCC_backend/
│
├── main.py                # Entry point of the application, runs the FastAPI app
├── app/
│   ├── __init__.py        # Initializes the FastAPI app object
│   ├── config.py          # Configuration settings and constants
│   ├── dependencies.py    # Dependency-related items like DB connections
│   ├── routers/           # Contains all router definitions
│   │   ├── __init__.py
│   │   ├── openai_router.py
│   │   └── calendar_router.py
│   └── services/          # Business logic/service layer
│       ├── __init__.py
│       ├── openai_service.py
│       └── calendar_service.py
└── models/
    ├── __init__.py
    ├── openAIModels.py
    └── calendarModels.py
```

## Caution

- The `calendar_service` utilizes a file named `credentials.json` for Google Calendar API authentication:
  - Ensure this file is present as either `credentials.json` or `src/credentials.json` depending on the environment setup.
  - The authentication flow cannot be interrupted once started, which might be cumbersome for users.

## Docker

```
docker build -t vgcc_backend .
docker run -d --name vgcc_backend_app -p 8000:8000 vgcc_backend
```

## Integration with Frontend

Frontend requirements:

- **Conversation Chat Interface**:
  - Utilize the endpoint `/openAI/llm/response` for processing user inputs through ChatGPT.

- **Google Calendar Account Management**:
  - Manage accounts using the `/calendar/authorize` endpoint.
  - Fetch events with `/calendar/get-calendar-events` using calendar input for dates in the format `YYYY-MM-DDThh:mm:ssZ`.

- **Application Context Reset**:
  - Reset all settings using `/calendar/delete-tokens`, `/openAI/delete-text`, and `/openAI/create-text` endpoints.

## Running the Application

To run the application:

```bash
uvicorn main:app --reload
```

This will host the API on `http://127.0.0.1:8000` by default, accessible via your specified front-end application.

## Documentation

Access detailed API documentation generated by FastAPI at `http://127.0.0.1:8000/docs` after running the application.
